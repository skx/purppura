<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Alerts [0/0/0]</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css" integrity="sha384-PmY9l28YgO4JwMKbTvgaS7XNZJ30MK9FAZjjzXtlqyZCqBY6X6bXIkM++IkyinN+" crossorigin="anonymous">
    <script src="//code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js" integrity="sha384-vhJnz1OVIdLktyixHY4Uk3OHEwdQqPppqYR8+5mjsauETgLOcEynD9oPHhhz18Nw" crossorigin="anonymous"></script>
    <script type="text/javascript" src="/purppura.js"></script>
    <style type="text/css">
      html {
      background-color:#f9f9f9;
      }
      .steve-footer {
      padding: 40px 0;
      color: #999;
      background-color: #f9f9f9;
      border-top: 2px solid #e9e9e9;
      }
      .steve-footer .nav-header {
      color: black;
      font-weight: bold;
      }
    </style>
    <script type="text/javascript">
      window.onload = function(){
      if (location.hash !== '') $('a[href="' + location.hash + '"]').tab('show');
      $('a[data-toggle="tab"]').bind('click', function(e) {
      location.hash = $(e.target).attr('href').substr(1);
      });

      // clicking on the row will toggle the details.
      $( "table" ).delegate( "tr.click",  "click", function( event ) {
          var target = $( event.target );
          if ( ! target.is( "a" ) ) {
            $(this).closest('tr').next('tr').toggle();
          }
      });

      // Update our alerts every 30 seconds.
      update_alerts();
      setInterval(function(){ update_alerts(); }, 30000);
      }
    </script>
  </head>
  <body>
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">Purppura</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/">Home</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li ><a href="/logout">Logout</a></li>
          </ul>
        </div>
      </div>
    </nav>
      <div class="container">
        <h2>Alerts</h2>
        <ul class="nav nav-tabs" id="myTab">
          <li class="active"><a data-toggle="tab" href="#raised">Raised</a></li>
          <li><a data-toggle="tab" href="#acknowledged">Acknowledged</a></li>
          <li><a data-toggle="tab" href="#pending">Pending</a></li>
        </ul>

        <div class="tab-content">
          <div id="raised" class="tab-pane fade in active">
            <p>&nbsp;</p>
            <table id="raised_alerts" class="table table-striped table-hover table-bordered table-condensed" >
              <tr><th>#</th><th>Source</th><th>Subject</th><th>Last Notified At</th><th>Actions</th></tr>
            </table>
          </div>
          <div id="acknowledged" class="tab-pane fade">
            <p>&nbsp;</p>
            <table id="acknowledged_alerts" class="table table-striped table-hover table-bordered table-condensed" >
              <tr><th>#</th><th>Source</th><th>Subject</th><th>Actions</th></tr>
            </table>
          </div>
          <div id="pending" class="tab-pane fade">
            <p>&nbsp;</p>
            <table id="pending_alerts" class="table table-striped table-hover table-bordered table-condensed" >
              <tr><th>#</th><th>Source</th><th>Subject</th><th>Raise Time</th><th>Actions</th></tr>
            </table>
          </div>
        </div>
      </div>

      <p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p>
    <footer id="footer" class="footer steve-footer" role="navigation">
      <div class="container">
        <div class="col-md-6">
          <ul class="nav">
            <li class="nav-header">Source Code</li>
            <li><a href="https://github.com/skx/purppura">Available on github</a></li>
          </ul>
        </div>
        <div class="col-md-6">
          <ul class="nav ">
            <li class="nav-header">Copyright</li>
            <li><a href="https://steve.kemp.fi/">Steve Kemp</a></li>
          </ul>
        </div>
      </div>
    </footer>
  </body>
</html>
